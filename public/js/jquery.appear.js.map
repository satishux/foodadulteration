{"version":3,"sources":["jquery.appear.js"],"names":["$","fn","appear","options","settings","extend","data","undefined","one","accX","accY","this","each","t","appeared","trigger","w","window","check","is","a","scrollLeft","b","scrollTop","o","offset","x","left","y","top","ax","ay","th","height","wh","tw","width","ww","modifiedFn","unbind","i","inArray","checks","splice","apply","arguments","bind","scroll","push","timeout","checkAll","length","run","clearTimeout","setTimeout","n","old","r","jQuery"],"mappings":"CAUA,SAAAA,GACAA,EAAAC,GAAAC,OAAA,SAAAD,EAAAE,GAEA,GAAAC,GAAAJ,EAAAK,QAGAC,KAAAC,OAGAC,KAAA,EAGAC,KAAA,EACAC,KAAA,GAEAP,EAEA,OAAAQ,MAAAC,KAAA,WAEA,GAAAC,GAAAb,EAAAW,KAKA,IAFAE,EAAAC,UAAA,GAEAb,EAIA,WADAY,GAAAE,QAAA,SAAAX,EAAAE,KAIA,IAAAU,GAAAhB,EAAAiB,QAGAC,EAAA,WAGA,IAAAL,EAAAM,GAAA,YAIA,YADAN,EAAAC,UAAA,EAKA,IAAAM,GAAAJ,EAAAK,aACAC,EAAAN,EAAAO,YACAC,EAAAX,EAAAY,SACAC,EAAAF,EAAAG,KACAC,EAAAJ,EAAAK,IAEAC,EAAA1B,EAAAK,KACAsB,EAAA3B,EAAAM,KACAsB,EAAAnB,EAAAoB,SACAC,EAAAlB,EAAAiB,SACAE,EAAAtB,EAAAuB,QACAC,EAAArB,EAAAoB,OAEAR,GAAAI,EAAAD,GAAAT,GACAA,EAAAY,EAAAH,GAAAH,GACAF,EAAAS,EAAAL,GAAAV,GACAA,EAAAiB,EAAAP,GAAAJ,EAGAb,EAAAC,UAAAD,EAAAE,QAAA,SAAAX,EAAAE,MAKAO,EAAAC,UAAA,GAKAwB,EAAA,WAMA,GAHAzB,EAAAC,UAAA,EAGAV,EAAAI,IAAA,CAGAQ,EAAAuB,OAAA,SAAArB,EACA,IAAAsB,GAAAxC,EAAAyC,QAAAvB,EAAAlB,EAAAC,GAAAC,OAAAwC,OACAF,IAAA,GAAAxC,EAAAC,GAAAC,OAAAwC,OAAAC,OAAAH,EAAA,GAIAvC,EAAA2C,MAAAjC,KAAAkC,WAIAzC,GAAAI,IAAAK,EAAAL,IAAA,SAAAJ,EAAAE,KAAAgC,GACAzB,EAAAiC,KAAA,SAAA1C,EAAAE,KAAAgC,GAGAtB,EAAA+B,OAAA7B,GAGAlB,EAAAC,GAAAC,OAAAwC,OAAAM,KAAA9B,GAGA,OAKAlB,EAAAK,OAAAL,EAAAC,GAAAC,QAEAwC,UACAO,QAAA,KAGAC,SAAA,WACA,GAAAC,GAAAnD,EAAAC,GAAAC,OAAAwC,OAAAS,MACA,IAAAA,EAAA,EAAA,KAAAA,KAAAnD,EAAAC,GAAAC,OAAAwC,OAAAS,MAIAC,IAAA,WACApD,EAAAC,GAAAC,OAAA+C,SAAAI,aAAArD,EAAAC,GAAAC,OAAA+C,SACAjD,EAAAC,GAAAC,OAAA+C,QAAAK,WAAAtD,EAAAC,GAAAC,OAAAgD,SAAA,OAKAlD,EAAAY,MAAA,SAAA,UAAA,QAAA,SAAA,OACA,aAAA,WAAA,cAAA,cACA,SAAA,MAAA,OAAA,QAAA,SAAA4B,EAAAe,GACA,GAAAC,GAAAxD,EAAAC,GAAAsD,EACAC,KACAxD,EAAAC,GAAAsD,GAAA,WACA,GAAAE,GAAAD,EAAAZ,MAAAjC,KAAAkC,UAEA,OADA7C,GAAAC,GAAAC,OAAAkD,MACAK,OAKAC","file":"jquery.appear.js","sourcesContent":["/*\r\n * jQuery.appear\r\n * https://github.com/bas2k/jquery.appear/\r\n * http://code.google.com/p/jquery-appear/\r\n * http://bas2k.ru/\r\n *\r\n * Copyright (c) 2009 Michael Hixson\r\n * Copyright (c) 2012-2014 Alexander Brovikov\r\n * Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)\r\n */\r\n(function($) {\r\n    $.fn.appear = function(fn, options) {\r\n\r\n        var settings = $.extend({\r\n\r\n            //arbitrary data to pass to fn\r\n            data: undefined,\r\n\r\n            //call fn only on the first appear?\r\n            one: true,\r\n\r\n            // X & Y accuracy\r\n            accX: 0,\r\n            accY: 0\r\n\r\n        }, options);\r\n\r\n        return this.each(function() {\r\n\r\n            var t = $(this);\r\n\r\n            //whether the element is currently visible\r\n            t.appeared = false;\r\n\r\n            if (!fn) {\r\n\r\n                //trigger the custom event\r\n                t.trigger('appear', settings.data);\r\n                return;\r\n            }\r\n\r\n            var w = $(window);\r\n\r\n            //fires the appear event when appropriate\r\n            var check = function() {\r\n\r\n                //is the element hidden?\r\n                if (!t.is(':visible')) {\r\n\r\n                    //it became hidden\r\n                    t.appeared = false;\r\n                    return;\r\n                }\r\n\r\n                //is the element inside the visible window?\r\n                var a = w.scrollLeft();\r\n                var b = w.scrollTop();\r\n                var o = t.offset();\r\n                var x = o.left;\r\n                var y = o.top;\r\n\r\n                var ax = settings.accX;\r\n                var ay = settings.accY;\r\n                var th = t.height();\r\n                var wh = w.height();\r\n                var tw = t.width();\r\n                var ww = w.width();\r\n\r\n                if (y + th + ay >= b &&\r\n                    y <= b + wh + ay &&\r\n                    x + tw + ax >= a &&\r\n                    x <= a + ww + ax) {\r\n\r\n                    //trigger the custom event\r\n                    if (!t.appeared) t.trigger('appear', settings.data);\r\n\r\n                } else {\r\n\r\n                    //it scrolled out of view\r\n                    t.appeared = false;\r\n                }\r\n            };\r\n\r\n            //create a modified fn with some additional logic\r\n            var modifiedFn = function() {\r\n\r\n                //mark the element as visible\r\n                t.appeared = true;\r\n\r\n                //is this supposed to happen only once?\r\n                if (settings.one) {\r\n\r\n                    //remove the check\r\n                    w.unbind('scroll', check);\r\n                    var i = $.inArray(check, $.fn.appear.checks);\r\n                    if (i >= 0) $.fn.appear.checks.splice(i, 1);\r\n                }\r\n\r\n                //trigger the original fn\r\n                fn.apply(this, arguments);\r\n            };\r\n\r\n            //bind the modified fn to the element\r\n            if (settings.one) t.one('appear', settings.data, modifiedFn);\r\n            else t.bind('appear', settings.data, modifiedFn);\r\n\r\n            //check whenever the window scrolls\r\n            w.scroll(check);\r\n\r\n            //check whenever the dom changes\r\n            $.fn.appear.checks.push(check);\r\n\r\n            //check now\r\n            (check)();\r\n        });\r\n    };\r\n\r\n    //keep a queue of appearance checks\r\n    $.extend($.fn.appear, {\r\n\r\n        checks: [],\r\n        timeout: null,\r\n\r\n        //process the queue\r\n        checkAll: function() {\r\n            var length = $.fn.appear.checks.length;\r\n            if (length > 0) while (length--) ($.fn.appear.checks[length])();\r\n        },\r\n\r\n        //check the queue asynchronously\r\n        run: function() {\r\n            if ($.fn.appear.timeout) clearTimeout($.fn.appear.timeout);\r\n            $.fn.appear.timeout = setTimeout($.fn.appear.checkAll, 20);\r\n        }\r\n    });\r\n\r\n    //run checks when these methods are called\r\n    $.each(['append', 'prepend', 'after', 'before', 'attr',\r\n        'removeAttr', 'addClass', 'removeClass', 'toggleClass',\r\n        'remove', 'css', 'show', 'hide'], function(i, n) {\r\n        var old = $.fn[n];\r\n        if (old) {\r\n            $.fn[n] = function() {\r\n                var r = old.apply(this, arguments);\r\n                $.fn.appear.run();\r\n                return r;\r\n            }\r\n        }\r\n    });\r\n\r\n})(jQuery);\r\n"],"sourceRoot":"/source/"}